################################################################################
# mpv.conf - High-Fidelity Playback Configuration
################################################################################

# -- Video --

# Use the high-quality GPU renderer profile as a baseline. This enables a suite
# of quality-enhancing features like superior scaling algorithms, debanding,
# and perceptually-correct rendering in linear light. [50]
profile=gpu-hq

# Enable hardware video decoding. 'auto-copy' is the safest and most compatible
# choice, as it ensures that mpv's video filters can operate on the decoded
# frames without issue. This is essential for AV1 playback on modern hardware. [22]
hwdec=auto-copy

# Select the graphics API for the renderer. 'opengl' is the most stable and
# widely compatible option. 'vulkan' is a modern alternative that may offer
# better performance or lower power usage on some systems, but can also have
# driver-specific bugs, especially with HDR. Start with opengl. [32, 36]
gpu-api=vulkan
#gpu-api=vulkan # Uncomment to try Vulkan; test for visual correctness.

# -- Audio --

# Specify a prioritized list of audio channel layouts. This tells mpv to try
# for 7.1 surround, fall back to 5.1, and finally use stereo if surround is
# not available in the file or supported by the audio device. [25, 26]
audio-channels=7.1,5.1,stereo

# Set the preferred language for audio tracks. This is a comma-separated list
# of ISO 639 language codes. mpv will try to select the first match it finds. [19]
alang=en,eng,ja,jpn

# --- Optional: Audio Passthrough (Bitstreaming) ---
# Uncomment the following line ONLY if you have an AV Receiver that supports
# Dolby Atmos or DTS:X and you want to bitstream those specific formats.
# For all other audio (DTS-HD MA, TrueHD 5.1/7.1, etc.), it is recommended to
# let mpv decode to PCM to retain volume control and filter support. [23]
#audio-spdif=dts-hd,truehd

# -- Subtitles --

# Set the preferred language for subtitle tracks. [19]
slang=en,eng

# Improve rendering of bitmap-based subtitles like PGS from Blu-rays.
blend-subtitles=yes

# -- Window & OSD --

# Save playback position on quit. When you reopen the file, it will resume. [19]
save-position-on-quit=yes

# Keep the player window open after the video finishes.
keep-open=yes

# Do not show the OSD progress bar on seeks.
no-osd-bar

# -- Advanced Quality (Optional, may require powerful GPU) --

# --- Conditional Motion Interpolation ---
# This profile enables smooth motion for 24p film content by interpolating it
# to match the display's refresh rate. It only activates for video < 30fps.
# [apply-interpolation]
# profile-desc="Enable motion interpolation for cinematic content"
# profile-cond=p["video-params/fps"] < 30
# video-sync=display-resample
# interpolation=yes
# tscale=oversample
